--
-- PostgreSQL database cluster dump
--

-- Started on 2026-01-22 18:24:48

SET default_transaction_read_only = off;

SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;

--
-- Roles
--

CREATE ROLE administrator_role;
ALTER ROLE administrator_role WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:T7MZBES5dmEfi3qhvJ+upQ==$vLkJZmyuar92dwlsr7AiGhjxYkV3wpZ05ozXW8DOuqY=:rxbT/l1z8E2Jpnt3qdLDU+dY+CGmzJgdbf84qq8dBTU=';
CREATE ROLE analytics_service;
ALTER ROLE analytics_service WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:cdouVUBt/LcrHTnT3OmI9A==$MfPA2vq9WjUVDpcGAE7lxT+5pmIGhXkIC/aQc6hUSN8=:VFSiS1rODjVnBjoZKNYkjjHHNpbOEQ9npQnph36+VbU=';
COMMENT ON ROLE analytics_service IS 'Аналитический сервис';
CREATE ROLE booking_service;
ALTER ROLE booking_service WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:Ay6Iy//9xrnAVq5IUwstqQ==$EOi6TaLMjlkDNUsVtQvi7taNf8AblZIc5q8szbl7p6A=:8ZxLbQjIbFioE6U7KoWudjjroGUij/CNo2gaIiAKmdU=';
COMMENT ON ROLE booking_service IS 'Сервис бронирования';
CREATE ROLE employee;
ALTER ROLE employee WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS;
CREATE ROLE employee_dmitry;
ALTER ROLE employee_dmitry WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:U48Kyted/UKMk/M7KWqR8w==$glAZ9UacG4XAqfwAYp02EoSauLd5BnGFlWwpTQBqvBs=:kN3PnqejV9sPIM6RG7ZC6lyZ/PRkGcy9yNnk+nY0h+4=';
CREATE ROLE external_service;
ALTER ROLE external_service WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS;
CREATE ROLE hr_anna;
ALTER ROLE hr_anna WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:Qm9iEjVc2n3lM8feLCqc5g==$IbM56H4c6okpAw//h80ztqCv3s5bH5aJg1T188wl2g0=:R1BQwlTochZCKd9GnVGPmQIcIBBb/KbqSgcz9DGUILY=';
CREATE ROLE hr_department;
ALTER ROLE hr_department WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:OE4pYWIXlS2fq7dTjb9v4A==$ZISvliMWyGifCM5R7n919494vYxkUsU+IJWHv2DE/2g=:jUAHFGLNifcN3tTn2V9p+WIV9ixSWHlMx29c/SPA9b4=';
COMMENT ON ROLE hr_department IS 'Отдел кадров - полный доступ';
CREATE ROLE hr_specialist;
ALTER ROLE hr_specialist WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS;
CREATE ROLE parent;
ALTER ROLE parent WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS;
CREATE ROLE parent_maria;
ALTER ROLE parent_maria WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:r0/bxM2W8OuxF1QI8uLJVw==$1uX1oC47j5kdP8/tFG4RtbcP8CU1ehgqolbvvwXAdQk=:Hk/VoFWA+CJAXWxnwqhiOwN2KQXYuFbXa5j1FVouG5o=';
CREATE ROLE parent_role;
ALTER ROLE parent_role WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:Sc4NBduOCMXJTDE66unQAw==$FEp0btMwzBUUgvUshVt7fQHbUaFdMSG4rF54tjQRHWs=:D0aOIxeUKgj+8eEX06hrQ7PVlfxgM7rch5SxDCIhnNU=';
COMMENT ON ROLE parent_role IS 'Родители - доступ к информации о преподавателях';
CREATE ROLE payment_service;
ALTER ROLE payment_service WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:rpOmXKzcByWuCadM0F5+YQ==$9JFC6mA4YRVU/prwQ1CMNNOstDRIjnpYhjNeaeEGe44=:5x5//DlS8mXxhF9Adgq/dxz6Tv1vg14dYJkDRXgwdw0=';
COMMENT ON ROLE payment_service IS 'Сервис оплаты';
CREATE ROLE postgres;
ALTER ROLE postgres WITH SUPERUSER INHERIT CREATEROLE CREATEDB LOGIN REPLICATION BYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:yRf9Z39LR/yBI4F8snYtgQ==$gaXK2gGqq6GX3s4x7fGk95Ci4bSzLkRJg3pGvLdtYZc=:YgsFDdvBlVhr4oP6faj1eMwNBH41hSCFdFWibCKRzbU=';
CREATE ROLE schedule_service;
ALTER ROLE schedule_service WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:hYJ0MI8RzV+nz8qKohkmWQ==$Dbv9QYyv5iFAQyGGAs900Nhdlu1Na9oNJUfK4nFGxuU=:GIDm0Cdkqy3gPtQiNLNjHTkvLAmAl7q4whPGSHvQE/k=';
COMMENT ON ROLE schedule_service IS 'Сервис расписания';
CREATE ROLE service_scheduler;
ALTER ROLE service_scheduler WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:dmdYxYiUqkw3eSQ70zVCYQ==$UqvsB0G0O4VDMd8WmZHElSv70b9J9QyEk+BSKMVvVJ4=:ysr3UevbfECHstBLOBCEAosEGSFTxQ6jFcEpmMGWJ5E=';
CREATE ROLE student;
ALTER ROLE student WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS;
CREATE ROLE student_alex;
ALTER ROLE student_alex WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:r6B0vo+s3YSJ0zOy80x9bA==$OlEl8QGIlcXciAnsARDGSDPMX9wMPLe3p8Rov0dImtw=:nu9m2ftgy6MM2/1sC7Y1bJb/L0kNn8NSkpRKpinXPXM=';
CREATE ROLE student_role;
ALTER ROLE student_role WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:/YLXl4eOluTBYzdYwpCwnA==$HbpDl74xxw70QTNGP8AMECgbOQv5jIdrt3CcbMV4GOU=:fbxcS+IjE9hDKW/u3/X6H4Iz+5JHnrFIoha8pMcBX24=';
COMMENT ON ROLE student_role IS 'Ученики - минимальный доступ';
CREATE ROLE teacher;
ALTER ROLE teacher WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS;
CREATE ROLE teacher_ivan;
ALTER ROLE teacher_ivan WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:I381PssEnthu6UgwpBMisA==$ItejsjTa68q7DAuVa4lerh2izPLL5Sc/0o7niCOPfUw=:KA0Jsle+yPR17O6bboSDjqWfMBSvudsdZ12R6Y5Qnyc=';
CREATE ROLE teacher_role;
ALTER ROLE teacher_role WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:txbJK8jQ4/SpskSzP9EGeA==$RHa//llS9sxwrAItTK08OrHZuI5Keizncui4Jy8bYZ4=:A/B6lZ8I2pfLxmuUcERE3lNaw8F8rsd5Fx+Xl1BXeXI=';
COMMENT ON ROLE teacher_role IS 'Преподаватели - доступ к своим данным';

--
-- User Configurations
--


--
-- Role memberships
--

GRANT employee TO employee_dmitry WITH INHERIT TRUE GRANTED BY postgres;
GRANT external_service TO service_scheduler WITH INHERIT TRUE GRANTED BY postgres;
GRANT hr_specialist TO hr_anna WITH INHERIT TRUE GRANTED BY postgres;
GRANT parent TO parent_maria WITH INHERIT TRUE GRANTED BY postgres;
GRANT student TO student_alex WITH INHERIT TRUE GRANTED BY postgres;
GRANT teacher TO teacher_ivan WITH INHERIT TRUE GRANTED BY postgres;






-- Completed on 2026-01-22 18:24:48

--
-- PostgreSQL database cluster dump complete
--

